<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Trainer Animation</title>
  <style>
    body {
      background: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
      font-family: sans-serif;
    }

    .math-trainer {
      background: #333;
      width: 200px;
      height: 200px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      border-radius: 15px;
      cursor: pointer;
      overflow: hidden;
    }

    .math-problem {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      gap: 0.3rem;
      font-size: 1.5rem;
      opacity: 0; /* Start hidden */
      transition: opacity 0.4s ease;
    }

    .math-problem.show {
      opacity: 1; /* Fade in */
    }

    .math-problem.fly-out {
      transform: translate(150%, -50%); /* Fly sideways */
      opacity: 0;
      transition: transform 0.8s ease, opacity 0.8s ease;
    }




  </style>
</head>
<body>

  <div class="math-trainer">
    <div class="math-problem">
      <span class="num1"></span>
      <span class="operator"></span>
      <span class="num2"></span>
      <span>=</span>
      <span class="result"></span>
    </div>
  </div>

  <script>
    const mathBox = document.querySelector('.math-trainer');
const problemEl = mathBox.querySelector('.math-problem');
const spans = problemEl.querySelectorAll('span');

let intervalId = null;

function generateRandomProblem() {
  const num1 = Math.floor(Math.random() * 91) + 10; // 10-100
  const num2 = Math.floor(Math.random() * 91) + 10; // 10-100
  const operators = ['+', '-', '×', '÷'];
  const operator = operators[Math.floor(Math.random() * operators.length)];
  
  let result;

  switch (operator) {
    case '+':
      result = num1 + num2;
      break;
    case '-':
      result = num1 - num2;
      break;
    case '×':
      result = num1 * num2;
      break;
    case '÷':
      result = (num1 / num2).toFixed(2); // Limit division to 2 decimals
      break;
  }

  return { num1, operator, num2, result };
}

function showProblem() {
  // Reset fly-out
  // Fade out and fly out the current problem
problemEl.classList.add('fly-out');

// After fly-out is complete (wait 800ms)
setTimeout(() => {
  // Reset position back to center and hide
  problemEl.classList.remove('fly-out');
  problemEl.style.transform = 'translate(-50%, -50%)';

  // Generate the new problem
  const p = generateRandomProblem();
  spans[0].textContent = p.num1;
  spans[1].textContent = p.operator;
  spans[2].textContent = p.num2;
  spans[4].textContent = p.result;

  // Fade in the new problem
  problemEl.classList.add('show');
}, 800);


  // Fade out old problem
  problemEl.classList.remove('show');

  setTimeout(() => {
    const p = generateRandomProblem();
    spans[0].textContent = p.num1;
    spans[1].textContent = p.operator;
    spans[2].textContent = p.num2;
    spans[4].textContent = p.result;

    // Fade in new problem
    problemEl.classList.add('show');

    // Schedule fly-out
    setTimeout(() => {
      problemEl.classList.add('fly-out');
    }, 2500);
  }, 400); 
}

mathBox.addEventListener('mouseenter', () => {
  showProblem();
  intervalId = setInterval(showProblem, 3500);
});

mathBox.addEventListener('mouseleave', () => {
  clearInterval(intervalId);
  problemEl.classList.remove('show', 'fly-out');
  problemEl.style.transform = 'translate(-50%, -50%)';
});

  </script>

</body>
</html>
